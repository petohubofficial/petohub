(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[581],{6404:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/dashboard/product/[id]",function(){return r(47320)}])},47320:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return Q}});var n=r(34051),o=r.n(n),i=r(85893),a=r(68309),l=r(21023),s=r(63366),c=r(87462),d=r(67294),u=r(86010),h=r(27192),p=r(94581),f=r(40549),v=r(25821),m=r(98216),g=r(55113),x=r(28979);function y(e){return(0,x.Z)("MuiAlert",e)}var Z,j=(0,r(76087).Z)("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),w=r(93946),S=r(88169),A=(0,S.Z)((0,i.jsx)("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),b=(0,S.Z)((0,i.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),M=(0,S.Z)((0,i.jsx)("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),C=(0,S.Z)((0,i.jsx)("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),z=r(34484);const _=["action","children","className","closeText","color","icon","iconMapping","onClose","role","severity","variant"],k=(0,f.ZP)(g.Z,{name:"MuiAlert",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`${r.variant}${(0,m.Z)(r.color||r.severity)}`]]}})((({theme:e,ownerState:t})=>{const r="light"===e.palette.mode?p._j:p.$n,n="light"===e.palette.mode?p.$n:p._j,o=t.color||t.severity;return(0,c.Z)({},e.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},o&&"standard"===t.variant&&{color:r(e.palette[o].light,.6),backgroundColor:n(e.palette[o].light,.9),[`& .${j.icon}`]:{color:"dark"===e.palette.mode?e.palette[o].main:e.palette[o].light}},o&&"outlined"===t.variant&&{color:r(e.palette[o].light,.6),border:`1px solid ${e.palette[o].light}`,[`& .${j.icon}`]:{color:"dark"===e.palette.mode?e.palette[o].main:e.palette[o].light}},o&&"filled"===t.variant&&{color:"#fff",fontWeight:e.typography.fontWeightMedium,backgroundColor:"dark"===e.palette.mode?e.palette[o].dark:e.palette[o].main})})),L=(0,f.ZP)("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(e,t)=>t.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),N=(0,f.ZP)("div",{name:"MuiAlert",slot:"Message",overridesResolver:(e,t)=>t.message})({padding:"8px 0"}),P=(0,f.ZP)("div",{name:"MuiAlert",slot:"Action",overridesResolver:(e,t)=>t.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),E={success:(0,i.jsx)(A,{fontSize:"inherit"}),warning:(0,i.jsx)(b,{fontSize:"inherit"}),error:(0,i.jsx)(M,{fontSize:"inherit"}),info:(0,i.jsx)(C,{fontSize:"inherit"})};var I=d.forwardRef((function(e,t){const r=(0,v.Z)({props:e,name:"MuiAlert"}),{action:n,children:o,className:a,closeText:l="Close",color:d,icon:p,iconMapping:f=E,onClose:g,role:x="alert",severity:j="success",variant:S="standard"}=r,A=(0,s.Z)(r,_),b=(0,c.Z)({},r,{color:d,severity:j,variant:S}),M=(e=>{const{variant:t,color:r,severity:n,classes:o}=e,i={root:["root",`${t}${(0,m.Z)(r||n)}`,`${t}`],icon:["icon"],message:["message"],action:["action"]};return(0,h.Z)(i,y,o)})(b);return(0,i.jsxs)(k,(0,c.Z)({role:x,elevation:0,ownerState:b,className:(0,u.Z)(M.root,a),ref:t},A,{children:[!1!==p?(0,i.jsx)(L,{ownerState:b,className:M.icon,children:p||f[j]||E[j]}):null,(0,i.jsx)(N,{ownerState:b,className:M.message,children:o}),null!=n?(0,i.jsx)(P,{className:M.action,children:n}):null,null==n&&g?(0,i.jsx)(P,{ownerState:b,className:M.action,children:(0,i.jsx)(w.Z,{size:"small","aria-label":l,title:l,color:"inherit",onClick:g,children:Z||(Z=(0,i.jsx)(z.Z,{fontSize:"small"}))})}):null]}))})),$=r(36822),R=r(15861),O=r(98456),W=r(33118),H=r(8549),T=r(58207),F=r(76836),V=r(41664),X=r(11163),q=r(74931),U=r(22437),Y=r(1674),B=r(85808);function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function G(e,t,r,n,o,i,a){try{var l=e[i](a),s=l.value}catch(c){return void r(c)}l.done?t(s):Promise.resolve(s).then(n,o)}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i=[],a=!0,l=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(s){l=!0,o=s}finally{try{a||null==r.return||r.return()}finally{if(l)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return D(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var K=function(){var e,t=(0,X.useRouter)(),r=(0,U.g3)(t.query.id),n=r.data,s=r.isFetching,c=J((0,U.W0)(),1)[0];return(0,i.jsxs)($.Z,{sx:{p:2},children:[(0,i.jsxs)($.Z,{display:"flex",alignItems:"center",gap:1,children:[(0,i.jsx)(V.default,{href:"/dashboard/product",passHref:!0,children:(0,i.jsx)(w.Z,{children:(0,i.jsx)(l.Z,{})})}),(0,i.jsx)(a.Z,{}),(0,i.jsx)(R.Z,{variant:"h5",children:"Edit Product"})]}),(0,i.jsx)($.Z,{sx:{p:1},children:s?(0,i.jsx)($.Z,{display:"flex",width:"100%",children:(0,i.jsx)(O.Z,{sx:{m:"0 auto"}})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)($.Z,{sx:{my:2},children:(0,i.jsxs)(I,{severity:"warning",variant:"outlined",children:["You are editing"," ",(0,i.jsx)(R.Z,{component:"span",fontSize:"inherit",fontWeight:600,children:null===n||void 0===n||null===(e=n.product)||void 0===e?void 0:e.name}),". After editing, the product must go through the approval stage once again."]})}),(0,i.jsx)(H.Z,{product:null===n||void 0===n?void 0:n.product,onSubmit:function(){var e,t=(e=o().mark((function e(t,r){var i,a,l,s,d,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.resetForm,(a=r.setSubmitting)(!0),l=(0,B.Z)(t),e.prev=3,e.next=7,c({id:null===n||void 0===n||null===(s=n.product)||void 0===s||null===(d=s._id)||void 0===d?void 0:d.toString(),body:l}).unwrap();case 7:e.sent.success&&q.ZP.success("Product updated successfully"),i(),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(3),q.ZP.error((null===e.t0||void 0===e.t0||null===(u=e.t0.data)||void 0===u?void 0:u.error)||"Something went wrong");case 16:return e.prev=16,a(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[3,12,16,19]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){G(i,n,o,a,l,"next",e)}function l(e){G(i,n,o,a,l,"throw",e)}a(void 0)}))});return function(e,r){return t.apply(this,arguments)}}()})]})})]})};K.getLayout=function(e){return(0,i.jsx)(W.Z,{roles:[Y.u.CLIENT],children:(0,i.jsx)(F.Z,{children:(0,i.jsx)(T.Z,{children:e})})})};var Q=K}},function(e){e.O(0,[206,931,300,662,849,750,836,599,774,888,179],(function(){return t=6404,e(e.s=t);var t}));var t=e.O();_N_E=t}]);