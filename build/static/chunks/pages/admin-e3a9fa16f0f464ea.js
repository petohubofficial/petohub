(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{93619:function(t,e,r){"use strict";var n=r(95318);e.Z=void 0;var i=n(r(64938)),a=r(85893),o=(0,i.default)((0,a.jsx)("path",{d:"m12 4-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"}),"ArrowForward");e.Z=o},48571:function(t,e,r){"use strict";var n=r(95318);e.Z=void 0;var i=n(r(64938)),a=r(85893),o=(0,i.default)((0,a.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"}),"People");e.Z=o},26797:function(t,e,r){"use strict";var n=r(95318);e.Z=void 0;var i=n(r(64938)),a=r(85893),o=(0,i.default)((0,a.jsx)("path",{d:"M18 6h-2c0-2.21-1.79-4-4-4S8 3.79 8 6H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-8 4c0 .55-.45 1-1 1s-1-.45-1-1V8h2v2zm2-6c1.1 0 2 .9 2 2h-4c0-1.1.9-2 2-2zm4 6c0 .55-.45 1-1 1s-1-.45-1-1V8h2v2z"}),"ShoppingBag");e.Z=o},44267:function(t,e,r){"use strict";r.d(e,{Z:function(){return p}});var n=r(87462),i=r(63366),a=r(67294),o=r(86010),s=r(27192),u=r(40549),d=r(25821),c=r(28979);function l(t){return(0,c.Z)("MuiCardContent",t)}(0,r(76087).Z)("MuiCardContent",["root"]);var h=r(85893);const f=["className","component"],m=(0,u.ZP)("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(t,e)=>e.root})((()=>({padding:16,"&:last-child":{paddingBottom:24}})));var p=a.forwardRef((function(t,e){const r=(0,d.Z)({props:t,name:"MuiCardContent"}),{className:a,component:u="div"}=r,c=(0,i.Z)(r,f),p=(0,n.Z)({},r,{component:u}),v=(t=>{const{classes:e}=t;return(0,s.Z)({root:["root"]},l,e)})(p);return(0,h.jsx)(m,(0,n.Z)({as:u,className:(0,o.Z)(v.root,a),ownerState:p,ref:e},c))}))},66242:function(t,e,r){"use strict";r.d(e,{Z:function(){return v}});var n=r(87462),i=r(63366),a=r(67294),o=r(86010),s=r(27192),u=r(40549),d=r(25821),c=r(55113),l=r(28979);function h(t){return(0,l.Z)("MuiCard",t)}(0,r(76087).Z)("MuiCard",["root"]);var f=r(85893);const m=["className","raised"],p=(0,u.ZP)(c.Z,{name:"MuiCard",slot:"Root",overridesResolver:(t,e)=>e.root})((()=>({overflow:"hidden"})));var v=a.forwardRef((function(t,e){const r=(0,d.Z)({props:t,name:"MuiCard"}),{className:a,raised:u=!1}=r,c=(0,i.Z)(r,m),l=(0,n.Z)({},r,{raised:u}),v=(t=>{const{classes:e}=t;return(0,s.Z)({root:["root"]},h,e)})(l);return(0,f.jsx)(p,(0,n.Z)({className:(0,o.Z)(v.root,a),elevation:u?8:void 0,ref:e,ownerState:l},c))}))},18979:function(t,e,r){"use strict";r.d(e,{Z:function(){return b}});var n=r(63366),i=r(87462),a=r(67294),o=r(86010),s=r(70917),u=r(27192),d=r(88606),c=r(94581),l=r(40549),h=r(25821),f=r(28979);function m(t){return(0,f.Z)("MuiSkeleton",t)}(0,r(76087).Z)("MuiSkeleton",["root","text","rectangular","circular","pulse","wave","withChildren","fitContent","heightAuto"]);var p=r(85893);const v=["animation","className","component","height","style","variant","width"];let Z,y,g,x,S=t=>t;const j=(0,s.F4)(Z||(Z=S`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),w=(0,s.F4)(y||(y=S`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),C=(0,l.ZP)("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:r}=t;return[e.root,e[r.variant],!1!==r.animation&&e[r.animation],r.hasChildren&&e.withChildren,r.hasChildren&&!r.width&&e.fitContent,r.hasChildren&&!r.height&&e.heightAuto]}})((({theme:t,ownerState:e})=>{const r=(0,d.Wy)(t.shape.borderRadius)||"px",n=(0,d.YL)(t.shape.borderRadius);return(0,i.Z)({display:"block",backgroundColor:(0,c.Fq)(t.palette.text.primary,"light"===t.palette.mode?.11:.13),height:"1.2em"},"text"===e.variant&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${n}${r}/${Math.round(n/.6*10)/10}${r}`,"&:empty:before":{content:'"\\00a0"'}},"circular"===e.variant&&{borderRadius:"50%"},e.hasChildren&&{"& > *":{visibility:"hidden"}},e.hasChildren&&!e.width&&{maxWidth:"fit-content"},e.hasChildren&&!e.height&&{height:"auto"})}),(({ownerState:t})=>"pulse"===t.animation&&(0,s.iv)(g||(g=S`
      animation: ${0} 1.5s ease-in-out 0.5s infinite;
    `),j)),(({ownerState:t,theme:e})=>"wave"===t.animation&&(0,s.iv)(x||(x=S`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 1.6s linear 0.5s infinite;
        background: linear-gradient(90deg, transparent, ${0}, transparent);
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),w,e.palette.action.hover)));var b=a.forwardRef((function(t,e){const r=(0,h.Z)({props:t,name:"MuiSkeleton"}),{animation:a="pulse",className:s,component:d="span",height:c,style:l,variant:f="text",width:Z}=r,y=(0,n.Z)(r,v),g=(0,i.Z)({},r,{animation:a,component:d,variant:f,hasChildren:Boolean(y.children)}),x=(t=>{const{classes:e,variant:r,animation:n,hasChildren:i,width:a,height:o}=t,s={root:["root",r,n,i&&"withChildren",i&&!a&&"fitContent",i&&!o&&"heightAuto"]};return(0,u.Z)(s,m,e)})(g);return(0,p.jsx)(C,(0,i.Z)({as:d,ref:e,className:(0,o.Z)(x.root,s),ownerState:g},y,{style:(0,i.Z)({width:Z,height:c},l)}))}))},58860:function(t,e,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return r(11200)}])},33118:function(t,e,r){"use strict";var n=r(85893),i=r(39187),a=r(11163),o=r(67294),s=r(74931);e.Z=function(t){var e=t.children,r=t.roles,u=(0,i.a)(),d=(0,a.useRouter)(),c=(0,o.useState)(!1),l=c[0],h=c[1];return(0,o.useEffect)((function(){if(d.isReady)if(u.isAuthenticated)if(r&&u.isAuthenticated){r.some((function(t){var e;return(null===u||void 0===u||null===(e=u.user)||void 0===e?void 0:e.role)===t}))?h(!0):(s.ZP.error("You do not have the required permissions to access this page"),d.push("/"))}else h(!0);else s.ZP.error("You must be logged in to access this page"),d.push({pathname:"/login",query:{redirect:d.pathname}})}),[d.isReady]),l?(0,n.jsx)(n.Fragment,{children:e}):null}},11200:function(t,e,r){"use strict";r.r(e);var n=r(85893),i=r(93619),a=r(48571),o=r(26797),s=r(27948),u=r(36822),d=r(15861),c=r(66242),l=r(44267),h=r(69661),f=r(18979),m=r(83321),p=r(33118),v=r(76836),Z=r(41664),y=(r(67294),r(83481)),g=r(1674),x=function(){var t,e,r=(0,y.LQ)({limit:10,page:1}),p=r.data,v=r.isFetching,g=(0,y.mq)({limit:10,page:1}),x=g.data,S=g.isFetching;return(0,n.jsx)(s.Z,{maxWidth:"lg",children:(0,n.jsxs)(u.Z,{sx:{my:3},children:[(0,n.jsx)(d.Z,{variant:"h4",children:"Admin Dashboard"}),(0,n.jsxs)(u.Z,{display:"flex",flexDirection:{xs:"column",md:"row"},gap:2,sx:{my:2},children:[(0,n.jsx)(c.Z,{sx:{mt:2,flex:1},children:(0,n.jsxs)(l.Z,{children:[(0,n.jsxs)(u.Z,{display:"flex",justifyContent:"space-between",children:[(0,n.jsx)(d.Z,{variant:"h5",children:"Users"}),(0,n.jsx)(h.Z,{sx:{bgcolor:"success.main"},children:(0,n.jsx)(a.Z,{})})]}),(0,n.jsxs)(u.Z,{display:"flex",justifyContent:"space-between",alignItems:"end",children:[(0,n.jsxs)(u.Z,{children:[(0,n.jsx)(d.Z,{variant:"h6",children:"Total Users"}),S?(0,n.jsx)(f.Z,{}):(0,n.jsx)(d.Z,{variant:"h2",children:null===x||void 0===x||null===(t=x.data)||void 0===t?void 0:t.total})]}),(0,n.jsx)(Z.default,{href:"/admin/user",passHref:!0,children:(0,n.jsx)(m.Z,{color:"primary",endIcon:(0,n.jsx)(i.Z,{}),children:"View Users"})})]})]})}),(0,n.jsx)(c.Z,{sx:{mt:2,flex:1},children:(0,n.jsxs)(l.Z,{children:[(0,n.jsxs)(u.Z,{display:"flex",justifyContent:"space-between",children:[(0,n.jsx)(d.Z,{variant:"h5",children:"Products"}),(0,n.jsx)(h.Z,{sx:{bgcolor:"error.main"},children:(0,n.jsx)(o.Z,{})})]}),(0,n.jsxs)(u.Z,{display:"flex",justifyContent:"space-between",alignItems:"end",children:[(0,n.jsxs)(u.Z,{children:[(0,n.jsx)(d.Z,{variant:"h6",children:"Total Products"}),v?(0,n.jsx)(f.Z,{}):(0,n.jsx)(d.Z,{variant:"h2",children:null===p||void 0===p||null===(e=p.data)||void 0===e?void 0:e.total})]}),(0,n.jsx)(Z.default,{href:"/admin/product",passHref:!0,children:(0,n.jsx)(m.Z,{color:"primary",endIcon:(0,n.jsx)(i.Z,{}),children:"View Products"})})]})]})})]})]})})};x.getLayout=function(t){return(0,n.jsx)(p.Z,{roles:[g.u.ADMIN,g.u.PRODUCT_ADMIN],children:(0,n.jsx)(v.Z,{children:t})})},e.default=x},83481:function(t,e,r){"use strict";r.d(e,{LQ:function(){return u},Bx:function(){return d},mq:function(){return c},Mh:function(){return l}});var n,i=r(89991);function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function o(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(r);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}!function(t){t.PRODUCTS="admin/product",t.USERS="admin/user"}(n||(n={}));var s=i.h.enhanceEndpoints({addTagTypes:Object.values(n)}).injectEndpoints({endpoints:function(t){return{getAdminProducts:t.query({query:function(t){return{url:"admin/product",params:t}},providesTags:function(t){return t?o(t.data.results.map((function(t){var e=t._id;return{type:n.PRODUCTS,id:e.toString()}}))).concat([{type:n.PRODUCTS,id:"LIST"}]):[{type:n.PRODUCTS,id:"LIST"}]}}),getAdminProduct:t.query({query:function(t){return{url:"admin/product",params:{id:t}}},providesTags:function(t,e,r){return[{type:n.PRODUCTS,id:r}]}}),approveProduct:t.mutation({query:function(t){return{url:"admin/product/approve",params:{id:t},method:"POST"}},invalidatesTags:function(t){return t?[{type:n.PRODUCTS,id:t.product._id.toString()}]:[{type:n.PRODUCTS,id:"LIST"}]}}),getAdminUsers:t.query({query:function(t){return{url:"admin/user",params:t}},providesTags:function(t){return t?o(t.data.results.map((function(t){var e=t._id;return{type:n.USERS,id:e.toString()}}))).concat([{type:n.USERS,id:"LIST"}]):[{type:n.USERS,id:"LIST"}]}}),getAdminUser:t.query({query:function(t){return{url:"admin/user",params:{id:t}}},providesTags:function(t,e,r){return[{type:n.USERS,id:r}]}}),verifyUser:t.mutation({query:function(t){return{url:"admin/user/verify",params:{id:t},method:"POST"}},invalidatesTags:function(t){return t?[{type:n.USERS,id:t.user._id.toString()}]:[{type:n.USERS,id:"LIST"}]}})}}}),u=s.useGetAdminProductsQuery,d=s.useApproveProductMutation,c=s.useGetAdminUsersQuery,l=s.useVerifyUserMutation}},function(t){t.O(0,[206,931,300,836,774,888,179],(function(){return e=58860,t(t.s=e);var e}));var e=t.O();_N_E=e}]);